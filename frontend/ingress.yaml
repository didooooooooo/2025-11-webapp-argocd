apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: nginx-ingress  # 의미있는 이름으로 변경
  namespace: front-ns   # 네임스페이스 추가 (중요!)
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
    nginx.ingress.kubernetes.io/affinity: "cookie"
    nginx.ingress.kubernetes.io/session-cookie-name: "INGRESSCOOKIE"
    nginx.ingress.kubernetes.io/session-cookie-expires: "86400"
    nginx.ingress.kubernetes.io/session-cookie-max-age: "86400"
spec:
  ingressClassName: nginx  # "nginx-example" → "nginx"로 변경 (deploy.yaml에서 확인한 클래스명)
  rules:
  - http:
      paths:
      - path: /            # "/testpath" → "/" (전체 경로)
        pathType: Prefix
        backend:
          service:
            name: nginx-svc-np  # "test" → 실제 nginx 서비스명
            port:
              number: 80
